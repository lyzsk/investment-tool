project:
  name: investment-tool
  version: 1.0.0
  file:
    upload:
      root-dir: ${user.home}/dev/investment-tool/uploads
      max-size: 10MB
      allowed-types:
        - image/jpeg
        - image/jpg
        - image/png
    download:
      root-dir: ${user.home}/dev/investment-tool/downloads
  markdown:
    root-dir: ${user.home}/dev/investment-tool/stock
    template-path: classpath:templates/stock-template.md


spring:
  application:
    name: investment-tool-test

  datasource:
    url: jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: sa
    password: ""

  # 自动执行 schema.sql 和 data.sql（可选）
  sql:
    init:
      mode: always
      encoding: UTF-8

  # Quartz 改为内存模式，避免建表失败
  quartz:
    job-store-type: memory
    wait-for-jobs-to-complete-on-shutdown: false
    overwrite-existing-jobs: false
    properties:
      org:
        quartz:
          scheduler:
            instanceName: TestScheduler
            instanceId: TEST
          jobStore:
            class: org.quartz.simpl.RAMJobStore
          threadPool:
            threadCount: 5

mybatis-plus:
  mapper-locations: classpath*:/mapper/**/*.xml
  global-config:
    db-config:
      id-type: none
      logic-delete-field: is_deleted
      logic-delete-value: 1
      logic-not-delete-value: 0
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  # 开启 SQL 日志
    auto-mapping-behavior: FULL # 显式启用自动映射带 typeHandler 的字段
